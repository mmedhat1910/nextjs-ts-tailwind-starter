#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

npm run precommit

echo 'ğŸ›   ğŸ§ª  Styling, testing and building you project before committing  ğŸ§ª  ğŸ› '

 #Check tsconfig standards

npm run check:types || 
(
    echo 'âŒ ğŸ˜  Failed Type Check ğŸ˜  âŒ
        Make the changes required above!';
    false;

)

npm run check:format || 
(
    echo 'ğŸ˜¤ Failed format check ! ğŸ˜¤
        Prettier check failed. Formatting was applied, try commiting again';
    npm run format
    git add .

)

npm run lint || 
(
    echo 'ğŸ™ğŸ»â€â™‚ï¸  Failed lint check! ğŸ™ğŸ»â€â™‚ï¸
            ESLint Check failed. Make the required changes mentioned above and try commiting again';
    false;
)

echo 'ğŸ¤© ..Alright.. Your code is committed âš™ï¸'